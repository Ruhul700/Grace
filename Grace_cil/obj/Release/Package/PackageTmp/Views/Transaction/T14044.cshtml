
@{
    ViewBag.Title = "T14044";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/Apps/Inventory/Transaction/T14044Controller.js"></script>
<script src="~/Apps/Service/Service.js"></script>
<style>
    .table-scroll-header-fix tbody {
        display: block;
        min-height: 0vh !important;
        max-height: 65vh !important;
        overflow-x: auto;
    }

    ::-webkit-scrollbar {
        width: 0px;
    }

    .table-scroll-header-fix thead, tbody tr {
        display: table;
        width: 100%;
        table-layout: fixed;
    }

    .table-scroll-header-fix thead {
        width: calc( 100% - 0em )
    }

    .table-scroll-header-fix table {
        width: 100%;
    }
</style>
<div class="" ng-app="Glorious" ng-controller="T14044Controller">
    @*header*@
    @*<div ng-show="loading" style="position: absolute;padding-left: 48%; margin-top:60px"><img src="~/Images/working1.gif" style="height: 50px;"></div>*@
    <div id="loading" class="modal">
        <div class="modal-content">
            <div class="loder"><img src="~/Images/working1.gif" style="height: 50px; margin:auto"></div>
        </div>
    </div>
    <div class="header">
        <span href="#default" class="logo">Order Status</span>
        <div class="header-right">
            <a><span title="Save" ng-click="Save_Click()" class="glyphicon glyphicon-floppy-disk"></span></a>
            <a><span title="Clear" ng-click="Clear_Click()" class="glyphicon glyphicon-erase"></span></a>
            <a><span title="Print" ng-click="Print_Click()" class="glyphicon glyphicon-print"></span></a>
            @*  <a><span title="Delete" ng-click="Delet_Click()" class="glyphicon glyphicon-trash"></span></a>*@
        </div>
    </div>
    @*===========*@
    <div style="margin-left:0px; margin-top:10px" class="row col-lg-12 col-md-12 col-sm-12">
        <table class="inputTable center" style=" width: 95%;">
            <tr>
                <td style=" width: 60%;">
                    <label class="textlevel" style="text-align:left">Total Sale Verify: <span style="margin-left:15px">{{obj.TotalPreOrder}}</span></label>
                </td>
                <td style=" width: 20%;">
                    <label class="textlevel">Memo No</label>
                </td>
                <td style=" width: 20%;margin-right:0;"><input class="form-control" id="myInput" type="text" placeholder="Search.." ng-model="search"> </td>
            </tr>
        </table>
        <div class="table-scroll-header-fix">
            <table id="tblGrid" class="tTable center" style=" width: 95%;">
                <thead>
                    <tr style="color: black;text-align: center;background: #afadad" class="summary-table-header">
                        <th style="width: 10%;font-size: 18px;">Memo No</th>
                        <th style="width: 10%;font-size: 18px;">Cust Name</th>
                        <th style="width: 5%;font-size: 18px;">Qut</th>
                        <th style="width: 7%;font-size: 18px;">T.Sale</th>
                        <th style="width: 7%;font-size: 18px;">Pament</th>
                        <th style="width: 7%;font-size: 18px;">Due</th>
                        <th style="width: 8%;font-size: 18px;">User</th>
                        <th style="width: 10%;font-size: 18px;">Sale Date</th>
                        <th style="width: 7%;font-size: 18px;">Status</th>
                        <th style="width: 5%;font-size: 18px;">Pen</th>
                        <th style="width: 5%;font-size: 18px;">Cnf</th>
                        <th style="width: 5%;font-size: 18px;">Dlv</th>
                        <th style="width: 5%;">Inv</th>
                        <th style="width: 9%;">Cancel</th>
                    </tr>
                </thead>
                <tbody id="tbody">
                    <tr ng-repeat="P in obj.PreOrderList|filter:search">
                        <td style="width: 10%">{{P.T_MEMO_NO}}</td>
                        <td style="width: 10%">{{P.T_CUSTOMER_NAME}}</td>
                        <td style="width: 5%">{{P.T_SALE_TOTAL}} </td>
                        <td style="width: 7%">{{P.T_AFTER_DISCOUNT}} </td>
                        <td style="width: 7%">{{P.T_PAMENT}}</td>
                        <td style="width: 7%">{{P.T_DUE}}</td>
                        <td style="width: 8%">{{P.T_EMP_NAME}}</td>
                        <td style="width: 10%">{{P.T_ENTRY_DATE}}</td>
                        <td style="width: 7%" ng-style="P.T_PRE_ORDER === '1' && {'background-color':'yellow'} " ng-click="View_PreOrder($index,P)">{{P.T_SALE_TYPE}}</td>
                        <td style="width: 5%;">
                            <input type="checkbox" disabled ng-model="P.T_PENDING_FLG" ng-true-value="'1'" ng-false-value="'0'" ng-click="Click_Row($index,P)" />
                        </td>
                        <td style="width: 5%;">
                            <input type="checkbox" ng-disabled="P.T_PRE_ORDER == '1'" ng-model="P.T_CONFIRM_FLG" ng-true-value="'1'" ng-false-value="'0'" ng-click="Click_Row($index,P)" />
                        </td>
                        <td style="width: 5%;">
                            <input type="checkbox" ng-disabled="P.T_CONFIRM_FLG=='0' " ng-model="P.T_DELIVER_FLG" ng-true-value="'1'" ng-false-value="'0'" ng-click="Click_Row($index,P)" />
                        </td>
                        <td style="width: 5%;">
                            <input type="checkbox" ng-model="P.T_PNT_VCHR_FLG" ng-true-value="'1'" ng-false-value="'0'" ng-click="Pnt_Vchr_Click($index,P)" />
                        </td>
                        <td style="width: 9%;">
                            <input type="button" style="background: #cb2004; width: 95%; border-color: #cb2004;border-radius:5px;color:white " value="Cancel" ng-click="Cancel_Click($index,P)" />
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
    @*modal memolist start*@
    <div id="Memolist" class="modal">
        <!-- Modal content -->
        <div class="modal-content" style="width:70% !important">
            <div class="modal-head">
                <span class="closemodal" ng-click="closeModal('Memolist')">&times;</span>
                <h5>Preorder</h5>
            </div>
            <div class="modal-body">
                <div class="table-scroll-header-fix">
                    <table id="tblPopup" class="popupTable">
                        <tr>
                            <th style="width:10%">Code</th>
                            <th style="width:20%">Product</th>
                            <th style="width:10%">Weight</th>
                            <th style="width:10%">Pack Size</th>
                            <th style="width:10%">Price(Pic)</th>
                            <th style="width:10%">Vat</th>
                            <th style="width:10%">Quantity</th>
                            <th style="width:10%">Qut</th>
                            <th style="width:10%">Total Price</th>
                            <th style="width:10%">Av.Stock</th>
                        </tr>
                        <tbody id="tbody">
                            <tr ng-repeat="X in obj.preOrderDetails" ng-class="{'selected':$index == MemoNoRow}" ng-click="setMemoNoRow($index,X)" style="cursor:pointer">
                                <td style="width:10%">{{X.T_PRODUCT_CODE}}</td>
                                <td style="width:20%">{{X.T_PRODUCT_NAME}}</td>
                                <td style="width:10%">{{X.T_PACK_WEIGHT}}</td>
                                <td style="width:10%">{{X.T_PACK_NAME}}</td>
                                <td style="width:10%">{{X.T_SALE_PRICE}}</td>
                                <td style="width:10%">{{X.T_TOTAL_VAT}}</td>
                                <td style="width:10%" ng-style="X.T_SALE_QUANTITY <=X.T_STOCK && {'background-color':'#1093136b'} ">{{X.T_SALE_QUANTITY}}</td>
                                <td style="width:10%">
                                    <input class="form-control" id="myInput" type="text" ng-model="X.T_QUANTITY" ng-change="QutyChange($index,X)" />
                                </td>
                                <td style="width:10%">
                                    <input class="form-control" id="myInput" type="text" ng-model="X.T_TOTAL_PRICE" />
                                </td>
                                <td style="width:10%">{{X.T_STOCK}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div style="text-align:right">
                    <input type="button" style="background: #337ab7; width: 10%;height:35px; border-color: #337ab7; border-radius: 5px; color: white " value="Confirm Order" ng-click="PreOrderSave_Click()" />
                </div>
            </div>
        </div>
    </div>
    @*modal memolist end*@
</div>
